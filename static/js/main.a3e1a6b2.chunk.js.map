{"version":3,"sources":["components/constants/style.js","components/App/Winner.js","components/App/Button.js","components/App/App.js","index.js"],"names":["MEDIA_QUERY_MD","countStep","n","init","calculateWinner","board","position","type","x","y","length","credit","end","undefined","Button","styled","button","Mark","div","props","value","ResetButton","children","onClick","className","style","textAlign","margin","backgroundColor","cursor","padding","borderRadius","color","ReaderSquare","Title","h1","Wrapper","NextPlayer","Status","status","whiteIsNext","App","useState","Array","fill","setBoard","setPosition","winner","setWinner","setWhiteIsNext","Board","handleButtonClick","arr","newValue","newBoard","JSON","parse","stringify","updateBoard","i","j","useEffect","rowWin","columnWin","leftSlash","rightSlash","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3e1a6b2.chunk.js","sourcesContent":["export const MEDIA_QUERY_MD = \"@media screen and (max-width: 760px)\";\nexport const MEDIA_QUERY_LG = \"@media screen and (max-width: 1000px)\";\n\n","function countStep(n, init) {\n  if (n === 0) {\n    n = init ? 1 : -1;\n    init = init ? !init : init; // => 一旦初始化就設成 false\n  } else {\n    n = n > 0 ? n + 1 : n - 1;\n  }\n  return [n, init];\n}\n\nexport default function calculateWinner({ board, position, type }) {\n  const [x, y] = position;\n  if (position.length) {\n    let n = 0;\n    let credit = 0;\n    let end = 0;\n    let init = true;\n\n    while (end < 2 && credit < 5) {\n      [n, init] = countStep(n, init);\n\n      if (type === \"row\") {\n        // 左右\n        if (board[x][y] && board[x][y] === board[x][y + n]) {\n          credit++;\n        } else {\n          end++;\n        }\n      }\n\n      if (type === \"column\") {\n        // 上下\n        if (board[x + n] !== undefined) {\n          if (board[x][y] && board[x][y] === board[x + n][y]) {\n            credit++;\n          } else {\n            end++;\n          }\n        } else {\n          end++;\n        }\n      }\n\n      if (type === \"leftUpSlash\") {\n        // 左上、右下\n        if (board[x + n] !== undefined) {\n          if (board[x][y] && board[x][y] === board[x + n][y + n]) {\n            credit++;\n          } else {\n            end++;\n          }\n        } else {\n          end++;\n        }\n      }\n\n      if (type === \"rightUpSlash\") {\n        // 右上、左下\n        if (board[x + n] !== undefined && board[x - n] !== undefined) {\n          if (board[x][y] && board[x][y] === board[x - n][y + n]) {\n            credit++;\n          } else {\n            end++;\n          }\n        } else {\n          end++;\n        }\n      }\n\n      // 碰到牆往反方向找\n      if (end >= 1 && n >= 1) n = 0;\n    }\n    if (credit < 4) return null;\n    return board[x][y];\n  }\n}\n","import styled from \"styled-components\";\nimport { MEDIA_QUERY_MD } from \"../constants/style\";\n\nconst Button = styled.button`\n  position: relative;\n  width: 34px;\n  height: 34px;\n  background-color: #ff9224;\n  margin-left: -1px;\n  margin-top: -1px;\n  padding: 4px;\n\n  ${MEDIA_QUERY_MD} {\n    width: 24px;\n    height: 24px;\n  }\n\n  &:hover {\n    background-color: #4f4f4f;\n  }\n`;\n\nconst Mark = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: ${(props) => (props.value ? \"25px\" : \"\")};\n  width: ${(props) => (props.value ? \"25px\" : \"\")};\n  border-radius: ${(props) => (props.value ? \"50%\" : \"\")};\n  background-color: ${(props) =>\n    props.value && props.value === \"W\" ? \"white\" : \"black\"};\n\n  ${MEDIA_QUERY_MD} {\n    height: ${(props) => (props.value ? \"15px\" : \"\")};\n    width: ${(props) => (props.value ? \"15px\" : \"\")};\n  }\n`;\n\nexport function ResetButton({ children, onClick }) {\n  return (\n    <div\n      className=\"resetButton\"\n      style={{\n        textAlign: \"center\",\n        margin: \"10px\",\n      }}\n    >\n      <button\n        style={{\n          backgroundColor: \"#FF359A\",\n          cursor: \"pointer\",\n          padding: \"10px\",\n          borderRadius: \"8px\",\n          color: \"#FFF7FB\",\n        }}\n        onClick={onClick}\n      >\n        {children}\n      </button>\n    </div>\n  );\n}\n\nexport function ReaderSquare({ onClick, value }) {\n  return (\n    <Button onClick={onClick}>\n      <Mark value={value} />\n    </Button>\n  );\n}\n","import styled from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nimport { MEDIA_QUERY_MD } from \"../constants/style\";\nimport calculateWinner from \"./Winner\";\nimport { ResetButton, ReaderSquare } from \"./Button\";\n\nconst Title = styled.h1`\n  width: 100%;\n  text-align: center;\n`;\n\nconst Wrapper = styled.div`\n  width: 640px;\n  margin: 0 auto;\n  text-align: center;\n  ${MEDIA_QUERY_MD} {\n    width: 440px;\n    padding: 0px;\n    margin: 0 auto;\n    line-height: 0px;\n  }\n`;\n\nconst NextPlayer = styled.div`\n  text-align: center;\n`;\n\nfunction Status({ status, whiteIsNext }) {\n  if (status) {\n    return <NextPlayer> Winner is {status === \"W\" ? \"白\" : \"黑\"}</NextPlayer>;\n  }\n  return (\n    <NextPlayer> NextPlayer is {whiteIsNext ? \"白子\" : \"黑子\"}</NextPlayer>\n  );\n}\n\nfunction App() {\n  const [board, setBoard] = useState(Array(19).fill(Array(19).fill(null)));\n  const [position, setPosition] = useState([]);\n  const [winner, setWinner] = useState(\"\");\n  const [whiteIsNext, setWhiteIsNext] = useState(true);\n\n  function updateBoard(x, y, newValue) {\n    const newBoard = JSON.parse(JSON.stringify(board));\n    newBoard[x][y] = newValue;\n    setBoard(newBoard);\n  }\n\n  function Board() {\n    const handleButtonClick = (arr) => {\n      if (board[arr[0]][arr[1]]) return;\n      if (winner) return;\n      updateBoard(arr[0], arr[1], whiteIsNext ? \"W\" : \"B\");\n      setPosition(arr);\n      setWhiteIsNext(!whiteIsNext);\n    };\n\n    let arr = [];\n    for (let i = 0; i < 19; i++) {\n      arr[i] = [];\n      for (let j = 0; j < 19; j++) {\n        arr[i][j] = (\n          <ReaderSquare\n            key={`${i},${j}`}\n            onClick={() => {\n              handleButtonClick([i, j]);\n            }}\n            whiteIsNext={whiteIsNext}\n            value={board[i][j]}\n          />\n        );\n      }\n    }\n    return arr;\n  }\n\n  useEffect(() => {\n    const rowWin = calculateWinner({ board, position, type: \"row\" });\n    const columnWin = calculateWinner({ board, position, type: \"column\" });\n    const leftSlash = calculateWinner({ board, position, type: \"leftUpSlash\" });\n    const rightSlash = calculateWinner({\n      board,\n      position,\n      type: \"rightUpSlash\",\n    });\n    if (rowWin) {\n      setWinner(rowWin);\n    }\n    if (columnWin) {\n      setWinner(columnWin);\n    }\n    if (leftSlash) {\n      setWinner(leftSlash);\n    }\n    if (rightSlash) {\n      setWinner(rightSlash);\n    }\n  }, [board, position]);\n\n  const handleResetButton = () => {\n    setBoard(Array(19).fill(Array(19).fill(null)));\n    setPosition([]);\n    setWinner(\"\");\n    setWhiteIsNext(true);\n  };\n\n  return (\n    <div className=\"App\">\n      <Title>五子棋遊戲</Title>\n      <Status status={winner} whiteIsNext={whiteIsNext} />\n      <ResetButton onClick={handleResetButton}>重新開始</ResetButton>\n      <Wrapper>\n        <Board />\n      </Wrapper>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}